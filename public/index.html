<!DOCTYPE html>
<html ng-app="sapApp">
<head>
  <base href="/" />
  <meta charset="utf-8" >
  <title>Login</title>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
  <script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/svg-assets-cache.js"></script>
  <script type="text/javascript" src="https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.3/angular-material.js"></script>
  <script type="text/javascript" src="controllers/lib/angular-route.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0-beta.2/angular-sanitize.js"></script>
  <script src="https://rawgithub.com/eligrey/FileSaver.js/master/FileSaver.js" type="text/javascript"></script>
  <script src="http://cdn.jsdelivr.net/alasql/0.3/alasql.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.7.12/xlsx.core.min.js" type="text/javascript"></script>

  <script type="text/javascript" src="controllers/controller.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
  <link rel="stylesheet" href="https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.3/angular-material.css">
  <link rel="stylesheet" href="https://material.angularjs.org/1.1.3/docs.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="styles.css" rel="stylesheet"  type="text/css">
</head>
<body>
  <div layout="column" layout-align="top center">
    <img src="https://company-profile-images.s3.amazonaws.com/images/434718/995531/logo/juniper-networks-logo.jpg" />

    <h1 style="font-family: Arial; color: blue"><u>Self Service Application for SAP Regression Suite</u></h1>
    <div ng-controller="SapCtrl" class="md-padding" ng-cloak >
      <div style="float:left">
        <table class="comicGreen">
          <tbody>
            <tr>
              <th>SlNo</th>
              <th>Scenarios</th>
              <th>Test Data</th>
            </tr>
            <tr ng-repeat="data in testData">
              <td>{{data.sno}}</td>
              <td>
                <md-input-container style="margin-right: 10px;">
                  <label>Select Scenario</label>
                  <md-select ng-model="scen[data.sno]" ng-required="true">
                    <md-option ng-repeat="scenario in scenarios" value="{{scenario.Scenarios}}">{{scenario.Scenarios}}</md-option>
                  </md-select>
                </md-input-container>
              </td>
              <td><input type="file" file-model="myFile[data.sno]"/></td>
              <!--td><button ng-click="uploadFile(data.sno)">Upload</button></td-->
            </tr>
          </tbody>
        </table>
      </div>
      <div style="float:right">
        <br>
        <br>
        <md-button class="md-raised md-primary" ng-click="addData()" style="font-family: Arial" ng-disabled="uploading">Add Row</md-button>
      </div>
      <div style="clear:both">
        <br><br>
        <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
          <md-button ng-disabled="uploading" class="md-raised md-primary" ng-click="ins()" style="font-family: Arial">Execute Script</md-button>
        </section>
        <div ng-if="uploading" style="text-align:center">
          <b>Please wait! Your test data files are getting uploaded...</b>
          <img id="mySpinner" src="Spinner.gif" ng-show="loading[0]"/>
          <table class="comicGreen">
            <tbody>
              <tr>
                <th>SlNo</th>
                <th>Scenarios</th>
                <th>Selected Testdata File</th>
                <th>Build Updates</th>
              </tr>
              <tr ng-repeat="info in testData">
                <td>{{info.sno}}</td>
                <td>{{scen[info.sno]}}</td>
                <td>{{myFile[info.sno].name}}</td>
                <td>
                  {{buildUpdates[info.sno]}}
                  <img id="mySpinner" src="Spinner.gif" ng-show="loading[info.sno]"/>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div ng-if="done" style="text-align:center">
          <b>Thank You! Test results will be mailed to you shortly.</b>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
